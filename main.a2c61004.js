parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function n(n,o){return e(n)||r(n,o)||a(n,o)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(n,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var r=[],e=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(e=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);e=!0);}catch(f){o=!0,i=f}finally{try{e||null==c.return||c.return()}finally{if(o)throw i}}return r}}function e(n){if(Array.isArray(n))return n}function o(n){return f(n)||c(n)||a(n)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(n,t){if(n){if("string"==typeof n)return u(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(n,t):void 0}}function c(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}function f(n){if(Array.isArray(n))return u(n)}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var l=document.querySelector(".game-field-content"),s=document.querySelector(".controls"),d=s.querySelector(".game-score"),y=o(document.querySelector(".message-container").children),h=n(y,3),v=h[0],g=h[1],m=h[2],p=4,S=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function b(){var n=document.querySelector(".high-score");n?n.textContent=Math.max(d.textContent,n.textContent):d.parentElement.insertAdjacentHTML("beforebegin",'\n      <p class="info">\n        High\n        \n\n        score:\n        <span class="game-score high-score">'.concat(d.innerHTML,"</span>\n      </p>\n    "))}function w(n){if("ArrowLeft"===n.key){var t=JSON.stringify(S);M(),t!==JSON.stringify(S)&&(L(),E())}if("ArrowRight"===n.key){var r=JSON.stringify(S);O(),r!==JSON.stringify(S)&&(L(),E())}if("ArrowUp"===n.key){var e=JSON.stringify(S);j(),e!==JSON.stringify(S)&&(L(),E())}if("ArrowDown"===n.key){var o=JSON.stringify(S);k(),o!==JSON.stringify(S)&&(L(),E())}N(),x()}function A(){L(),L(),E()}function L(){var n=Math.floor(Math.random()*p),t=Math.floor(Math.random()*p);JSON.stringify(S).includes("0")&&(0===S[n][t]?S[n][t]=Math.random<.1?4:2:L())}function E(){l.innerHTML="\n    ".concat(S.map(function(n){return'\n        <tr class="field-row">\n          '.concat(n.map(function(n){return'\n            <td class="field-cell '.concat(n?"field-cell--".concat(n):"",'">\n              ').concat(n||"","\n            </td>\n          ")}).join("\n"),"\n        </tr>\n    ")}).join("\n"),"\n  ")}function O(){for(var n=0;n<p;++n){for(var t=S[n].filter(function(n){return n}),r=t.length-1;r>=0;--r)t[r]===t[r-1]&&(t[r]*=2,J(t[r]),t[r-1]=0,t=t.filter(function(n){return n}));var e=S[n].length-t.length,o=Array(e).fill(0);S[n]=o.concat(t)}E()}function M(){for(var n=0;n<p;++n){for(var t=S[n].filter(function(n){return n}),r=0;r<t.length;++r)t[r]===t[r+1]&&(t[r+1]*=2,J(t[r+1]),t[r]=0,t=t.filter(function(n){return n}));var e=S[n].length-t.length,o=Array(e).fill(0);S[n]=t.concat(o)}E()}function j(){for(var n=function(n){var t=[];S.forEach(function(r){t.push(r[n])}),t=t.filter(function(n){return n});for(var r=0;r<t.length;++r)t[r]===t[r+1]&&(t[r+1]*=2,J(t[r+1]),t[r]=0,t=t.filter(function(n){return n}));var e=p-t.length,o=Array(e).fill(0);t=t.concat(o),S.forEach(function(r,e){r[n]=t[e]})},t=0;t<p;++t)n(t);E()}function k(){for(var n=function(n){var t=[];S.forEach(function(r){t.push(r[n])});for(var r=(t=t.filter(function(n){return n})).length;r>0;--r)t[r]===t[r-1]&&(t[r]*=2,J(t[r]),t[r-1]=0,t=t.filter(function(n){return n}));var e=p-t.length,o=Array(e).fill(0);t=o.concat(t),S.forEach(function(r,e){r[n]=t[e]})},t=0;t<p;++t)n(t);E()}function J(n){d.innerHTML=parseInt(d.innerHTML)+n}function N(){S.flat().includes(2048)&&(g.classList.toggle("hidden"),window.removeEventListener("keyup",w))}function x(){var n=S.flat().includes(0),t=!1;S.forEach(function(n){for(var r=1;r<p;++r)if(n[r]===n[r-1])return void(t=!0)});for(var r=0;r<S.length;++r)for(var e=1;e<S[r].length;++e)if(S[e][r]===S[e-1][r])return void(t=!0);n||t||(v.classList.toggle("hidden"),window.removeEventListener("keyup",w))}s.addEventListener("click",function(n){var t=n.target;t.matches(".restart")&&(S=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],b(),d.textContent="0",A(),v.classList.add("hidden"),g.classList.add("hidden"),window.addEventListener("keyup",w)),t.matches(".start")&&(A(),n.target.classList.remove("start"),n.target.classList.add("restart"),n.target.textContent="Restart",m.classList.add("hidden"))}),window.addEventListener("keyup",w);
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.a2c61004.js.map